---
title: "WA State Parks Challenge - Interactive Map"
output: 
  html_document:
    includes:
      after_body: footer.html
editor_options: 
  chunk_output_type: console
---

```{r, echo = FALSE, message = FALSE, warning=FALSE, comment = FALSE}

  ## Set libraries
  library(sf)
  library(tmap)

  # Load Data
  data_df <- readRDS(file.path(getwd(), 'data', 'created', paste0('data.RDS')))
  visited_sf <- readRDS(file.path(getwd(), 'data', 'created', paste0('visited.RDS')))
  points_sf <- readRDS(file.path(getwd(), 'data', 'created', paste0('points.RDS')))
  routes_sf <- readRDS(file.path(getwd(), 'data', 'created', paste0('routes.RDS')))
  boundaries_sf <- readRDS(file.path(getwd(), 'data', 'created', paste0('boundaries.RDS')))

```

&nbsp;
&nbsp;

```{r, echo = FALSE, cache = FALSE, comment = FALSE, warning = FALSE, message = FALSE}

  NotVisited <- points_sf %>%
    dplyr::filter(!Abbrv %in% visited_sf$Abbrv)
  Visited <- visited_sf
  
  Boundaries <- boundaries_sf %>%
    dplyr::filter(Abbrv %in% visited_sf$Abbrv)

  tmap_mode("view")
  
  tm_shape(routes_sf) + 
    tm_lines(col="type", scale=2, legend.lwd.show = FALSE, 
             palette = c('yellow', 'gray40', 'orange', 'brown', 'red')) +
    
  tm_shape(Boundaries) + 
    tm_polygons(col = 'darkgreen') +
    tm_text("Abbrv", size = .8, ymod = .1, col = 'gray60') +

  tm_shape(NotVisited) + 
    tm_dots() #+ 
    #tm_text("Abbrv", size = .8, ymod = .1) +
    #tm_shape(Visited) + 
    #tm_dots(col = 'green4') #+ 
    #tm_text("Abbrv", size = .8, ymod = .1) +


  

```